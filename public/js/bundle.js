require=function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){(function(){var e=this,r=e.Backbone,i=[];i.push;var s=i.slice;i.splice;var o;o="undefined"!=typeof n?n:e.Backbone={},o.VERSION="1.1.0";var a=e._;a||"undefined"==typeof t||(a=t("underscore")),o.$=e.jQuery||e.Zepto||e.ender||e.$||$,o.noConflict=function(){return e.Backbone=r,this},o.emulateHTTP=!1,o.emulateJSON=!1;var u=o.Events={on:function(t,e,n){if(!l(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!l(this,"once",t,[e,n])||!e)return this;var r=this,i=a.once(function(){r.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var r,i,s,o,u,c,h,f;if(!this._events||!l(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:a.keys(this._events),u=0,c=o.length;c>u;u++)if(t=o[u],s=this._events[t]){if(this._events[t]=r=[],e||n)for(h=0,f=s.length;f>h;h++)i=s[h],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&h(n,e),r&&h(r,arguments),this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;var i=!e&&!n;n||"object"!=typeof e||(n=this),t&&((r={})[t._listenId]=t);for(var s in r)t=r[s],t.off(e,n,this),(i||a.isEmpty(t._events))&&delete this._listeningTo[s];return this}},c=/\s+/,l=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var s=n.split(c),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(r));return!1}return!0},h=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},f={listenTo:"on",listenToOnce:"once"};a.each(f,function(t,e){u[e]=function(e,n,r){var i=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=a.uniqueId("l"));return i[s]=e,r||"object"!=typeof n||(r=this),e[t](n,r,this),this}}),u.bind=u.on,u.unbind=u.off,a.extend(o,u);var p=o.Model=function(t,e){var n=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=a.defaults({},n,a.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};a.extend(p.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,s,o,u,c,l,h;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;s=n.unset,u=n.silent,o=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)e=i[r],a.isEqual(h[r],e)||o.push(r),a.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!u){o.length&&(this._pending=!0);for(var f=0,p=o.length;p>f;f++)this.trigger("change:"+o[f],this,h[o[f]],n)}if(c)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)a.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(r){return e.set(e.parse(r,t),t)?(n&&n(e,r,t),e.trigger("sync",e,r,t),void 0):!1},R(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,i,s,o=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=a.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=a.extend({},o,r)),void 0===n.parse&&(n.parse=!0);var u=this,c=n.success;return n.success=function(t){u.attributes=o;var e=u.parse(t,n);return n.wait&&(e=a.extend(r||{},e)),a.isObject(e)&&!u.set(e,n)?!1:(c&&c(u,t,n),u.trigger("sync",u,t,n),void 0)},R(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;R(this,t);var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||P();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,a.extend(e,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];a.each(d,function(t){p.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var g=o.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};a.extend(g.prototype,u,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return o.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.extend({merge:!1},e,v))},remove:function(t,e){var n=!a.isArray(t);t=n?[t]:a.clone(t),e||(e={});var r,i,s,o;for(r=0,i=t.length;i>r;r++)o=t[r]=this.get(t[r]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o));return n?t[0]:t},set:function(t,e){e=a.defaults({},e,m),e.parse&&(t=this.parse(t,e));var n=!a.isArray(t);t=n?t?[t]:[]:a.clone(t);var r,i,s,o,u,c,l,h=e.at,f=this.model,d=this.comparator&&null==h&&e.sort!==!1,g=a.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=e.add,k=e.merge,_=e.remove,x=!d&&w&&_?[]:!1;for(r=0,i=t.length;i>r;r++){if(u=t[r],s=u instanceof p?o=u:u[f.prototype.idAttribute],c=this.get(s))_&&(b[c.cid]=!0),k&&(u=u===o?o.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),d&&!l&&c.hasChanged(g)&&(l=!0)),t[r]=c;else if(w){if(o=t[r]=this._prepareModel(u,e),!o)continue;v.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)}x&&x.push(c||o)}if(_){for(r=0,i=this.length;i>r;++r)b[(o=this.models[r]).cid]||y.push(o);y.length&&this.remove(y,e)}if(v.length||x&&x.length)if(d&&(l=!0),this.length+=v.length,null!=h)for(r=0,i=v.length;i>r;r++)this.models.splice(h+r,0,v[r]);else{x&&(this.models.length=0);var E=x||v;for(r=0,i=E.length;i>r;r++)this.models.push(E[r])}if(l&&this.sort({silent:!0}),!e.silent){for(r=0,i=v.length;i>r;r++)(o=v[r]).trigger("add",o,this,e);(l||x&&x.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),t=this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,a.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,a.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";n[i](r,t),e&&e(n,r,t),n.trigger("sync",n,r,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(t,e,i){i.wait&&n.add(t,i),r&&r(t,e,i)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e=e?a.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(y,function(t){g.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var b=["groupBy","countBy","sortBy"];a.each(b,function(t){g.prototype[t]=function(e,n){var r=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,r,n)}});var w=o.View=function(t){this.cid=a.uniqueId("view"),t||(t={}),a.extend(this,a.pick(t,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];a.extend(w.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof o.$?t:o.$(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),n){var r=e.match(k),i=r[1],s=r[2];n=a.bind(n,this),i+=".delegateEvents"+this.cid,""===s?this.$el.on(i,n):this.$el.on(i,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var t=a.extend({},a.result(this,"attributes"));this.id&&(t.id=a.result(this,"id")),this.className&&(t["class"]=a.result(this,"className"));var e=o.$("<"+a.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}}),o.sync=function(t,e,n){var r=E[t];a.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};if(n.url||(i.url=a.result(e,"url")||P()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(i.contentType="application/json",i.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{}),n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===i.type||n.emulateJSON||(i.processData=!1),"PATCH"===i.type&&x&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=n.xhr=o.ajax(a.extend(i,n));return e.trigger("request",e,u,n),u};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var j=o.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,T=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(j.prototype,u,{initialize:function(){},route:function(t,e,n){a.isRegExp(t)||(t=this._routeToRegExp(t)),a.isFunction(e)&&(n=e,e=""),n||(n=this[e]);var r=this;return o.history.route(t,function(i){var s=r._extractParameters(t,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+e].concat(s)),r.trigger("route",e,s),o.history.trigger("route",r,e,s)}),this},navigate:function(t,e){return o.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(S,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/]+)"}).replace(T,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return a.map(n,function(t){return t?decodeURIComponent(t):null})}});var N=o.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,C=/^\/+|\/+$/g,L=/msie [\w.]+/,M=/\/$/,D=/[?#].*$/;N.started=!1,a.extend(N.prototype,u,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(M,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");N.started=!0,this.options=a.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),n=document.documentMode,r=L.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(C,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl(),void 0)},loadUrl:function(t){return t=this.fragment=this.getFragment(t),a.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!N.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(D,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),o.history=new N;var V=function(t,e){var n,r=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},a.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&a.extend(n.prototype,t),n.__super__=r.prototype,n};p.extend=g.extend=j.extend=w.extend=N.extend=V;var P=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}}}).call(this)},{underscore:11}],2:[function(t,e,n){function r(t){return"[object Array]"===c.call(t)}function i(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(n,e),n}function s(t){return"object"!=typeof t&&"function"!=typeof t||null===t}function o(t){if(s(t))throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)l.call(t,n)&&e.push(n);return e}function a(t){if(s(t))throw new TypeError("Object.getOwnPropertyNames called on a non-object");var e=o(t);return n.isArray(t)&&-1===n.indexOf(t,"length")&&e.push("length"),e}function u(t,e){return{value:t[e]}}var c=Object.prototype.toString,l=Object.prototype.hasOwnProperty;n.isArray="function"==typeof Array.isArray?Array.isArray:r,n.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},n.filter=function(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n},n.forEach=function(t,e,n){if(t.forEach)return t.forEach(e,n);for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)},n.map=function(t,e){if(t.map)return t.map(e);for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n},n.reduce=function(t,e,n){if(t.reduce)return t.reduce(e,n);var r,i=!1;2<arguments.length&&(r=n,i=!0);for(var s=0,o=t.length;o>s;++s)t.hasOwnProperty(s)&&(i?r=e(r,t[s],s,t):(r=t[s],i=!0));return r},n.substr="b"!=="ab".substr(-1)?function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}:function(t,e,n){return t.substr(e,n)},n.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},n.bind=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(e.bind)return e.bind.apply(e,t);var n=t.shift();return function(){e.apply(n,t.concat([Array.prototype.slice.call(arguments)]))}},n.create="function"==typeof Object.create?Object.create:i;var h="function"==typeof Object.keys?Object.keys:o,f="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:a;if((new Error).hasOwnProperty("description")){var p=function(t,e){return"[object Error]"===c.call(t)&&(e=n.filter(e,function(t){return"description"!==t&&"number"!==t&&"message"!==t})),e};n.keys=function(t){return p(t,h(t))},n.getOwnPropertyNames=function(t){return p(t,f(t))}}else n.keys=h,n.getOwnPropertyNames=f;if("function"==typeof Object.getOwnPropertyDescriptor)try{Object.getOwnPropertyDescriptor({a:1},"a"),n.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor}catch(d){n.getOwnPropertyDescriptor=function(t,e){try{return Object.getOwnPropertyDescriptor(t,e)}catch(n){return u(t,e)}}}else n.getOwnPropertyDescriptor=u},{}],3:[function(){},{}],4:[function(t,e,n){function r(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=t("__browserify_process"),s=t("util"),o=t("_shims"),a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,u=function(t){return a.exec(t).slice(1)};n.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var a=n>=0?arguments[n]:i.cwd();if(!s.isString(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,e="/"===a.charAt(0))}return t=r(o.filter(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},n.normalize=function(t){var e=n.isAbsolute(t),i="/"===o.substr(t,-1);return t=r(o.filter(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(o.filter(t,function(t){if(!s.isString(t))throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),s=r(e.split("/")),o=Math.min(i.length,s.length),a=o,u=0;o>u;u++)if(i[u]!==s[u]){a=u;break}for(var c=[],u=a;u<i.length;u++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=u(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=u(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return u(t)[3]}},{__browserify_process:7,_shims:2,util:5}],5:[function(t,e,n){function r(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,t,r.depth)}function i(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t){return t}function o(t){var e={};return L.forEach(t,function(t){e[t]=!0}),e}function a(t,e,r){if(t.customInspect&&e&&j(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r);return y(i)||(i=a(t,i,r)),i}var s=u(t,e);if(s)return s;var d=L.keys(e),g=o(d);if(t.showHidden&&(d=L.getOwnPropertyNames(e)),0===d.length){if(j(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(k(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(x(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return c(e)}var v="",b=!1,w=["{","}"];if(p(e)&&(b=!0,w=["[","]"]),j(e)){var _=e.name?": "+e.name:"";v=" [Function"+_+"]"}if(k(e)&&(v=" "+RegExp.prototype.toString.call(e)),x(e)&&(v=" "+Date.prototype.toUTCString.call(e)),E(e)&&(v=" "+c(e)),0===d.length&&(!b||0==e.length))return w[0]+v+w[1];if(0>r)return k(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=b?l(t,e,r,g,d):d.map(function(n){return h(t,e,r,g,n,b)}),t.seen.pop(),f(S,v,w)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var s=[],o=0,a=e.length;a>o;++o)I(e,String(o))?s.push(h(t,e,n,r,String(o),!0)):s.push("");return L.forEach(i,function(i){i.match(/^\d+$/)||s.push(h(t,e,n,r,i,!0))}),s}function h(t,e,n,r,i,s){var o,u,c;if(c=L.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),I(r,i)||(o="["+i+"]"),u||(L.indexOf(t.seen,c.value)<0?(u=g(n)?a(t,c.value,null):a(t,c.value,n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+u}function f(t,e,n){var r=0,i=L.reduce(t,function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return L.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function k(t){return _(t)&&"[object RegExp]"===T(t)}function _(t){return"object"==typeof t&&t}function x(t){return _(t)&&"[object Date]"===T(t)}function E(t){return _(t)&&"[object Error]"===T(t)}function j(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function O(t){return t instanceof C}function T(t){return Object.prototype.toString.call(t)}function A(t){return 10>t?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),$[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var C=t("__browserify_Buffer").Buffer,L=t("_shims"),M=/%[sdj%]/g;n.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,s=i.length,o=String(t).replace(M,function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];s>n;a=i[++n])o+=g(a)||!_(a)?" "+a:" "+r(a);return o},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=d,n.isNull=g,n.isNullOrUndefined=m,n.isNumber=v,n.isString=y,n.isSymbol=b,n.isUndefined=w,n.isRegExp=k,n.isObject=_,n.isDate=x,n.isError=E,n.isFunction=j,n.isPrimitive=S,n.isBuffer=O;var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=function(t,e){t.super_=e,t.prototype=L.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},n._extend=function(t,e){if(!e||!_(e))return t;for(var n=L.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},{__browserify_Buffer:6,_shims:2}],6:[function(t,e){t=function n(e,r,i){function s(a,u){if(!r[a]){if(!e[a]){var c="function"==typeof t&&t;if(!u&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return s(n?n:t)},l,l.exports,n,e,r,i)}return r[a].exports}for(var o="function"==typeof t&&t,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,n){n.readIEEE754=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?0:i-1,f=n?1:-1,p=t[e+h];for(h+=f,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+h],h+=f,l-=8);if(0===s)s=1-c;else{if(s===u)return o?0/0:1/0*(p?-1:1);o+=Math.pow(2,r),s-=c}return(p?-1:1)*o*Math.pow(2,s-r)},n.writeIEEE754=function(t,e,n,r,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?s-1:0,d=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),e+=o+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(o++,u/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+p]=255&o,p+=d,o/=256,c-=8);t[n+p-d]|=128*g}},{}],q9TxCC:[function(t,e,n){function r(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function i(e,n,s){if(N||(N=t("assert")),!(this instanceof i))return new i(e,n,s);if(this.parent=this,this.offset=0,"base64"==n&&"string"==typeof e)for(e=r(e);0!=e.length%4;)e+="=";var a;if("number"==typeof s){this.length=o(n);for(var c=0;c<this.length;c++)this[c]=e.get(c+s)}else{switch(a=typeof e){case"number":this.length=o(e);break;case"string":this.length=i.byteLength(e,n);break;case"object":this.length=o(e.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(u(e))for(var c=0;c<this.length;c++)this[c]=e instanceof i?e.readUInt8(c):e[c];else if("string"==a)this.length=this.write(e,0,n);else if("number"===a)for(var c=0;c<this.length;c++)this[c]=0}}function s(t,e,n){return"number"!=typeof t?n:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function o(t){return t=~~Math.ceil(+t),0>t?0:t}function a(t){return(Array.isArray||function(t){return"[object Array]"=={}.toString.apply(t)})(t)}function u(t){return a(t)||i.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function c(t){return 16>t?"0"+t.toString(16):t.toString(16)}function l(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));
else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)e.push(parseInt(r[i],16));return e}function h(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function f(e){return t("base64-js").toByteArray(e)}function p(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);)e[i+n]=t[i],i++;return i}function d(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function g(t,e,n,r){var i=0;return r||(N.ok("boolean"==typeof n,"missing or invalid endian"),N.ok(void 0!==e&&null!==e,"missing offset"),N.ok(e+1<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(n?(i=t[e]<<8,e+1<t.length&&(i|=t[e+1])):(i=t[e],e+1<t.length&&(i|=t[e+1]<<8)),i)}function m(t,e,n,r){var i=0;return r||(N.ok("boolean"==typeof n,"missing or invalid endian"),N.ok(void 0!==e&&null!==e,"missing offset"),N.ok(e+3<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(n?(e+1<t.length&&(i=t[e+1]<<16),e+2<t.length&&(i|=t[e+2]<<8),e+3<t.length&&(i|=t[e+3]),i+=t[e]<<24>>>0):(e+2<t.length&&(i=t[e+2]<<16),e+1<t.length&&(i|=t[e+1]<<8),i|=t[e],e+3<t.length&&(i+=t[e+3]<<24>>>0)),i)}function v(t,e,n,r){var i,s;return r||(N.ok("boolean"==typeof n,"missing or invalid endian"),N.ok(void 0!==e&&null!==e,"missing offset"),N.ok(e+1<t.length,"Trying to read beyond buffer length")),s=g(t,e,n,r),i=32768&s,i?-1*(65535-s+1):s}function y(t,e,n,r){var i,s;return r||(N.ok("boolean"==typeof n,"missing or invalid endian"),N.ok(void 0!==e&&null!==e,"missing offset"),N.ok(e+3<t.length,"Trying to read beyond buffer length")),s=m(t,e,n,r),i=2147483648&s,i?-1*(4294967295-s+1):s}function b(e,n,r,i){return i||(N.ok("boolean"==typeof r,"missing or invalid endian"),N.ok(n+3<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function w(e,n,r,i){return i||(N.ok("boolean"==typeof r,"missing or invalid endian"),N.ok(n+7<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function k(t,e){N.ok("number"==typeof t,"cannot write a non-number as a number"),N.ok(t>=0,"specified a negative value for writing an unsigned value"),N.ok(e>=t,"value is larger than maximum value for type"),N.ok(Math.floor(t)===t,"value has a fractional component")}function _(t,e,n,r,i){i||(N.ok(void 0!==e&&null!==e,"missing value"),N.ok("boolean"==typeof r,"missing or invalid endian"),N.ok(void 0!==n&&null!==n,"missing offset"),N.ok(n+1<t.length,"trying to write beyond buffer length"),k(e,65535));for(var s=0;s<Math.min(t.length-n,2);s++)t[n+s]=(e&255<<8*(r?1-s:s))>>>8*(r?1-s:s)}function x(t,e,n,r,i){i||(N.ok(void 0!==e&&null!==e,"missing value"),N.ok("boolean"==typeof r,"missing or invalid endian"),N.ok(void 0!==n&&null!==n,"missing offset"),N.ok(n+3<t.length,"trying to write beyond buffer length"),k(e,4294967295));for(var s=0;s<Math.min(t.length-n,4);s++)t[n+s]=255&e>>>8*(r?3-s:s)}function E(t,e,n){N.ok("number"==typeof t,"cannot write a non-number as a number"),N.ok(e>=t,"value larger than maximum allowed value"),N.ok(t>=n,"value smaller than minimum allowed value"),N.ok(Math.floor(t)===t,"value has a fractional component")}function j(t,e,n){N.ok("number"==typeof t,"cannot write a non-number as a number"),N.ok(e>=t,"value larger than maximum allowed value"),N.ok(t>=n,"value smaller than minimum allowed value")}function S(t,e,n,r,i){i||(N.ok(void 0!==e&&null!==e,"missing value"),N.ok("boolean"==typeof r,"missing or invalid endian"),N.ok(void 0!==n&&null!==n,"missing offset"),N.ok(n+1<t.length,"Trying to write beyond buffer length"),E(e,32767,-32768)),e>=0?_(t,e,n,r,i):_(t,65535+e+1,n,r,i)}function O(t,e,n,r,i){i||(N.ok(void 0!==e&&null!==e,"missing value"),N.ok("boolean"==typeof r,"missing or invalid endian"),N.ok(void 0!==n&&null!==n,"missing offset"),N.ok(n+3<t.length,"Trying to write beyond buffer length"),E(e,2147483647,-2147483648)),e>=0?x(t,e,n,r,i):x(t,4294967295+e+1,n,r,i)}function T(e,n,r,i,s){s||(N.ok(void 0!==n&&null!==n,"missing value"),N.ok("boolean"==typeof i,"missing or invalid endian"),N.ok(void 0!==r&&null!==r,"missing offset"),N.ok(r+3<e.length,"Trying to write beyond buffer length"),j(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,23,4)}function A(e,n,r,i,s){s||(N.ok(void 0!==n&&null!==n,"missing value"),N.ok("boolean"==typeof i,"missing or invalid endian"),N.ok(void 0!==r&&null!==r,"missing offset"),N.ok(r+7<e.length,"Trying to write beyond buffer length"),j(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,52,8)}var N;n.Buffer=i,n.SlowBuffer=i,i.poolSize=8192,n.INSPECT_MAX_BYTES=50,i.prototype.get=function(t){if(0>t||t>=this.length)throw new Error("oob");return this[t]},i.prototype.set=function(t,e){if(0>t||t>=this.length)throw new Error("oob");return this[t]=e},i.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return l(t).length;case"ascii":case"binary":return t.length;case"base64":return f(t).length;default:throw new Error("Unknown encoding")}},i.prototype.utf8Write=function(t,e,n){return i._charsWritten=p(l(t),this,e,n)},i.prototype.asciiWrite=function(t,e,n){return i._charsWritten=p(h(t),this,e,n)},i.prototype.binaryWrite=i.prototype.asciiWrite,i.prototype.base64Write=function(t,e,n){return i._charsWritten=p(f(t),this,e,n)},i.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},i.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;r<t.length;)t[r]<=127?(e+=d(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;return e+d(n)},i.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},i.prototype.binarySlice=i.prototype.asciiSlice,i.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=c(this[r]),r==n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},i.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var r="",i=t;e>i;i++)r+=c(this[i]);return r},i.prototype.toString=function(t,e,n){if(t=String(t||"utf8").toLowerCase(),e=+e||0,"undefined"==typeof n&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},i.prototype.hexWrite=function(t,e,n){e=+e||0;var r=this.length-e;n?(n=+n,n>r&&(n=r)):n=r;var s=t.length;if(s%2)throw new Error("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;n>o;o++){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))throw new Error("Invalid hex string");this[e+o]=a}return i._charsWritten=2*o,o},i.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}e=+e||0;var s=this.length-e;switch(n?(n=+n,n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw new Error("Unknown encoding")}},i.prototype.slice=function(t,e){var n=this.length;return t=s(t,n,0),e=s(e,n,n),new i(this,e-t,+t)},i.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),(void 0===r||isNaN(r))&&(r=this.length),e||(e=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==i.length)return 0;if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);for(var s=[],o=n;r>o;o++)N.ok("undefined"!=typeof this[o],"copying undefined buffer bytes!"),s.push(this[o]);for(var o=e;o<e+s.length;o++)t[o]=s[o-e]},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>n)throw new Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");for(var r=e;n>r;r++)this[r]=t},i.isBuffer=function(t){return t instanceof i||t instanceof i},i.concat=function(t,e){if(!a(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new i(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;n<t.length;n++){var r=t[n];e+=r.length}}for(var s=new i(e),o=0,n=0;n<t.length;n++){var r=t[n];r.copy(s,o),o+=r.length}return s},i.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},i.prototype.readUInt8=function(t,e){var n=this;return e||(N.ok(void 0!==t&&null!==t,"missing offset"),N.ok(t<n.length,"Trying to read beyond buffer length")),t>=n.length?void 0:n[t]},i.prototype.readUInt16LE=function(t,e){return g(this,t,!1,e)},i.prototype.readUInt16BE=function(t,e){return g(this,t,!0,e)},i.prototype.readUInt32LE=function(t,e){return m(this,t,!1,e)},i.prototype.readUInt32BE=function(t,e){return m(this,t,!0,e)},i.prototype.readInt8=function(t,e){var n,r=this;return e||(N.ok(void 0!==t&&null!==t,"missing offset"),N.ok(t<r.length,"Trying to read beyond buffer length")),t>=r.length?void 0:(n=128&r[t],n?-1*(255-r[t]+1):r[t])},i.prototype.readInt16LE=function(t,e){return v(this,t,!1,e)},i.prototype.readInt16BE=function(t,e){return v(this,t,!0,e)},i.prototype.readInt32LE=function(t,e){return y(this,t,!1,e)},i.prototype.readInt32BE=function(t,e){return y(this,t,!0,e)},i.prototype.readFloatLE=function(t,e){return b(this,t,!1,e)},i.prototype.readFloatBE=function(t,e){return b(this,t,!0,e)},i.prototype.readDoubleLE=function(t,e){return w(this,t,!1,e)},i.prototype.readDoubleBE=function(t,e){return w(this,t,!0,e)},i.prototype.writeUInt8=function(t,e,n){var r=this;n||(N.ok(void 0!==t&&null!==t,"missing value"),N.ok(void 0!==e&&null!==e,"missing offset"),N.ok(e<r.length,"trying to write beyond buffer length"),k(t,255)),e<r.length&&(r[e]=t)},i.prototype.writeUInt16LE=function(t,e,n){_(this,t,e,!1,n)},i.prototype.writeUInt16BE=function(t,e,n){_(this,t,e,!0,n)},i.prototype.writeUInt32LE=function(t,e,n){x(this,t,e,!1,n)},i.prototype.writeUInt32BE=function(t,e,n){x(this,t,e,!0,n)},i.prototype.writeInt8=function(t,e,n){var r=this;n||(N.ok(void 0!==t&&null!==t,"missing value"),N.ok(void 0!==e&&null!==e,"missing offset"),N.ok(e<r.length,"Trying to write beyond buffer length"),E(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},i.prototype.writeInt16LE=function(t,e,n){S(this,t,e,!1,n)},i.prototype.writeInt16BE=function(t,e,n){S(this,t,e,!0,n)},i.prototype.writeInt32LE=function(t,e,n){O(this,t,e,!1,n)},i.prototype.writeInt32BE=function(t,e,n){O(this,t,e,!0,n)},i.prototype.writeFloatLE=function(t,e,n){T(this,t,e,!1,n)},i.prototype.writeFloatBE=function(t,e,n){T(this,t,e,!0,n)},i.prototype.writeDoubleLE=function(t,e,n){A(this,t,e,!1,n)},i.prototype.writeDoubleBE=function(t,e,n){A(this,t,e,!0,n)}},{"./buffer_ieee754":1,assert:6,"base64-js":4}],"buffer-browserify":[function(t,e){e.exports=t("q9TxCC")},{}],4:[function(t,e){!function(){"use strict";function t(t){var e,n,i,s,o,a;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(o=t.indexOf("="),o=o>0?t.length-o:0,a=[],i=o>0?t.length-4:t.length,e=0,n=0;i>e;e+=4,n+=3)s=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),a.push((16711680&s)>>16),a.push((65280&s)>>8),a.push(255&s);return 2===o?(s=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,a.push(255&s)):1===o&&(s=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,a.push(255&s>>8),a.push(255&s)),a}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,i,s,o=t.length%3,a="";for(n=0,s=t.length-o;s>n;n+=3)i=(t[n]<<16)+(t[n+1]<<8)+t[n+2],a+=e(i);switch(o){case 1:i=t[t.length-1],a+=r[i>>2],a+=r[63&i<<4],a+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],a+=r[i>>10],a+=r[63&i>>4],a+=r[63&i<<2],a+="="}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n}()},{}],5:[function(t,e,n){function r(t){return"[object Array]"===c.call(t)}function i(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(n,e),n}function s(t){return"object"!=typeof t&&"function"!=typeof t||null===t}function o(t){if(s(t))throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)l.call(t,n)&&e.push(n);return e}function a(t){if(s(t))throw new TypeError("Object.getOwnPropertyNames called on a non-object");var e=o(t);return n.isArray(t)&&-1===n.indexOf(t,"length")&&e.push("length"),e}function u(t,e){return{value:t[e]}}var c=Object.prototype.toString,l=Object.prototype.hasOwnProperty;n.isArray="function"==typeof Array.isArray?Array.isArray:r,n.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},n.filter=function(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n},n.forEach=function(t,e,n){if(t.forEach)return t.forEach(e,n);for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)},n.map=function(t,e){if(t.map)return t.map(e);for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n},n.reduce=function(t,e,n){if(t.reduce)return t.reduce(e,n);var r,i=!1;2<arguments.length&&(r=n,i=!0);for(var s=0,o=t.length;o>s;++s)t.hasOwnProperty(s)&&(i?r=e(r,t[s],s,t):(r=t[s],i=!0));return r},n.substr="b"!=="ab".substr(-1)?function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}:function(t,e,n){return t.substr(e,n)},n.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},n.bind=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(e.bind)return e.bind.apply(e,t);var n=t.shift();return function(){e.apply(n,t.concat([Array.prototype.slice.call(arguments)]))}},n.create="function"==typeof Object.create?Object.create:i;var h="function"==typeof Object.keys?Object.keys:o,f="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:a;if((new Error).hasOwnProperty("description")){var p=function(t,e){return"[object Error]"===c.call(t)&&(e=n.filter(e,function(t){return"description"!==t&&"number"!==t&&"message"!==t})),e};n.keys=function(t){return p(t,h(t))},n.getOwnPropertyNames=function(t){return p(t,f(t))}}else n.keys=h,n.getOwnPropertyNames=f;if("function"==typeof Object.getOwnPropertyDescriptor)try{Object.getOwnPropertyDescriptor({a:1},"a"),n.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor}catch(d){n.getOwnPropertyDescriptor=function(t,e){try{return Object.getOwnPropertyDescriptor(t,e)}catch(n){return u(t,e)}}}else n.getOwnPropertyDescriptor=u},{}],6:[function(t,e){function n(t,e){return f.isUndefined(e)?""+e:!f.isNumber(e)||!isNaN(e)&&isFinite(e)?f.isFunction(e)||f.isRegExp(e)?e.toString():e:e.toString()}function r(t,e){return f.isString(t)?t.length<e?t:t.slice(0,e):t}function i(t){return r(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+r(JSON.stringify(t.expected,n),128)}function s(t,e,n,r,i){throw new g.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function o(t,e){t||s(t,!0,e,"==",g.ok)}function a(t,e){if(t===e)return!0;if(f.isBuffer(t)&&f.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return f.isDate(t)&&f.isDate(e)?t.getTime()===e.getTime():f.isRegExp(t)&&f.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:f.isObject(t)||f.isObject(e)?c(t,e):t==e}function u(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function c(t,e){if(f.isNullOrUndefined(t)||f.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return u(e)?(t=d.call(t),e=d.call(e),a(t,e)):!1;try{var n,r,i=p.keys(t),s=p.keys(e)}catch(o){return!1}if(i.length!=s.length)return!1;for(i.sort(),s.sort(),r=i.length-1;r>=0;r--)if(i[r]!=s[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!a(t[n],e[n]))return!1;return!0}function l(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function h(t,e,n,r){var i;f.isString(n)&&(r=n,n=null);try{e()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&s(i,n,"Missing expected exception"+r),!t&&l(i,n)&&s(i,n,"Got unwanted exception"+r),t&&i&&n&&!l(i,n)||!t&&i)throw i}var f=t("util"),p=t("_shims"),d=Array.prototype.slice,g=e.exports=o;g.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,this.message=t.message||i(this)},f.inherits(g.AssertionError,Error),g.fail=s,g.ok=o,g.equal=function(t,e,n){t!=e&&s(t,e,n,"==",g.equal)},g.notEqual=function(t,e,n){t==e&&s(t,e,n,"!=",g.notEqual)},g.deepEqual=function(t,e,n){a(t,e)||s(t,e,n,"deepEqual",g.deepEqual)},g.notDeepEqual=function(t,e,n){a(t,e)&&s(t,e,n,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(t,e,n){t!==e&&s(t,e,n,"===",g.strictEqual)},g.notStrictEqual=function(t,e,n){t===e&&s(t,e,n,"!==",g.notStrictEqual)},g.throws=function(){h.apply(this,[!0].concat(d.call(arguments)))},g.doesNotThrow=function(){h.apply(this,[!1].concat(d.call(arguments)))},g.ifError=function(t){if(t)throw t}},{_shims:5,util:7}],7:[function(t,e,n){function r(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,t,r.depth)}function i(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t){return t}function o(t){var e={};return C.forEach(t,function(t){e[t]=!0}),e}function a(t,e,r){if(t.customInspect&&e&&j(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r);return y(i)||(i=a(t,i,r)),i}var s=u(t,e);if(s)return s;var d=C.keys(e),g=o(d);if(t.showHidden&&(d=C.getOwnPropertyNames(e)),0===d.length){if(j(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(k(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(x(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return c(e)}var v="",b=!1,w=["{","}"];if(p(e)&&(b=!0,w=["[","]"]),j(e)){var _=e.name?": "+e.name:"";v=" [Function"+_+"]"}if(k(e)&&(v=" "+RegExp.prototype.toString.call(e)),x(e)&&(v=" "+Date.prototype.toUTCString.call(e)),E(e)&&(v=" "+c(e)),0===d.length&&(!b||0==e.length))return w[0]+v+w[1];if(0>r)return k(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=b?l(t,e,r,g,d):d.map(function(n){return h(t,e,r,g,n,b)}),t.seen.pop(),f(S,v,w)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var s=[],o=0,a=e.length;a>o;++o)I(e,String(o))?s.push(h(t,e,n,r,String(o),!0)):s.push("");return C.forEach(i,function(i){i.match(/^\d+$/)||s.push(h(t,e,n,r,i,!0))}),s}function h(t,e,n,r,i,s){var o,u,c;if(c=C.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),I(r,i)||(o="["+i+"]"),u||(C.indexOf(t.seen,c.value)<0?(u=g(n)?a(t,c.value,null):a(t,c.value,n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+u}function f(t,e,n){var r=0,i=C.reduce(t,function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return C.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function k(t){return _(t)&&"[object RegExp]"===T(t)}function _(t){return"object"==typeof t&&t}function x(t){return _(t)&&"[object Date]"===T(t)}function E(t){return _(t)&&"[object Error]"===T(t)}function j(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function O(t){return t instanceof Buffer}function T(t){return Object.prototype.toString.call(t)}function A(t){return 10>t?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var C=t("_shims"),L=/%[sdj%]/g;n.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,s=i.length,o=String(t).replace(L,function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];s>n;a=i[++n])o+=g(a)||!_(a)?" "+a:" "+r(a);return o},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=d,n.isNull=g,n.isNullOrUndefined=m,n.isNumber=v,n.isString=y,n.isSymbol=b,n.isUndefined=w,n.isRegExp=k,n.isObject=_,n.isDate=x,n.isError=E,n.isFunction=j,n.isPrimitive=S,n.isBuffer=O;var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=function(t,e){t.super_=e,t.prototype=C.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},n._extend=function(t,e){if(!e||!_(e))return t;for(var n=C.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},{_shims:5}]},{},[]),e.exports=t("buffer-browserify")},{}],7:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],8:[function(t,e,n){function r(t){return t.substr(1).split("|").reduce(function(t,e){var n=e.split(":"),r=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"filters."+r+"("+t+i+")"})}function i(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}function s(t,e){var n=l(u(e),t),r=c(t);return r||(n+=".ejs"),n}var o=t("./utils"),a=t("path"),u=(a.basename,a.dirname),c=a.extname,l=a.join,h=t("fs"),f=h.readFileSync,p=n.filters=t("./filters"),d={};n.clearCache=function(){d={}},n.parse=function(t,e){var e=e||{},i=e.open||n.open||"<%",o=e.close||n.close||"%>",a=e.filename,u=e.compileDebug!==!1,c=[];c.push("var buf = [];"),!1!==e._with&&c.push("\nwith (locals || {}) { (function(){ "),c.push("\n buf.push('");for(var l=1,h=!1,p=0,d=t.length;d>p;++p)if(t.slice(p,i.length+p)==i){p+=i.length;var g,m,v=(u?"__stack.lineno=":"")+l;switch(t.substr(p,1)){case"=":g="', escape(("+v+", ",m=")), '",++p;break;case"-":g="', ("+v+", ",m="), '",++p;break;default:g="');"+v+";",m="; buf.push('"}var y=t.indexOf(o,p),b=t.substring(p,y),w=p,k=null,_=0;if("-"==b[b.length-1]&&(b=b.substring(0,b.length-2),h=!0),0==b.trim().indexOf("include")){var x=b.trim().slice(7).trim();if(!a)throw new Error("filename option is required for includes");var E=s(x,a);k=f(E,"utf8"),k=n.parse(k,{filename:E,_with:!1,open:i,close:o,compileDebug:u}),c.push("' + (function(){"+k+"})() + '"),b=""}for(;~(_=b.indexOf("\n",_));)_++,l++;":"==b.substr(0,1)&&(b=r(b)),b&&(b.lastIndexOf("//")>b.lastIndexOf("\n")&&(b+="\n"),c.push(g,b,m)),p+=y-w+o.length-1}else"\\"==t.substr(p,1)?c.push("\\\\"):"'"==t.substr(p,1)?c.push("\\'"):"\r"==t.substr(p,1)||("\n"==t.substr(p,1)?h?h=!1:(c.push("\\n"),l++):c.push(t.substr(p,1)));return!1!==e._with?c.push("'); })();\n} \nreturn buf.join('');"):c.push("');\nreturn buf.join('');"),c.join("")};var g=n.compile=function(t,e){e=e||{};var r=e.escape||o.escape,s=JSON.stringify(t),a=e.compileDebug!==!1,u=e.client,c=e.filename?JSON.stringify(e.filename):"undefined";t=a?["var __stack = { lineno: 1, input: "+s+", filename: "+c+" };",i.toString(),"try {",n.parse(t,e),"} catch (err) {","  rethrow(err, __stack.input, __stack.filename, __stack.lineno);","}"].join("\n"):n.parse(t,e),e.debug&&console.log(t),u&&(t="escape = escape || "+r.toString()+";\n"+t);try{var l=new Function("locals, filters, escape",t)}catch(h){throw"SyntaxError"==h.name&&(h.message+=e.filename?" in "+c:" while compiling ejs"),h}return u?l:function(t){return l.call(this,t,p,r)}};n.render=function(t,e){var n,e=e||{};if(e.cache){if(!e.filename)throw new Error('"cache" option requires "filename".');n=d[e.filename]||(d[e.filename]=g(t,e))}else n=g(t,e);return e.__proto__=e.locals,n.call(e.scope,e)},n.renderFile=function(t,e,r){var i=t+":string";"function"==typeof e&&(r=e,e={}),e.filename=t;var s;try{s=e.cache?d[i]||(d[i]=f(t,"utf8")):f(t,"utf8")}catch(o){return r(o),void 0}r(null,n.render(s,e))},n.__express=n.renderFile,t.extensions?t.extensions[".ejs"]=function(t,e){e=e||t.filename;var n={filename:e,client:!0},r=h.readFileSync(e).toString(),i=g(r,n);t._compile("module.exports = "+i.toString()+";",e)}:t.registerExtension&&t.registerExtension(".ejs",function(t){return g(t,{})})},{"./filters":9,"./utils":10,fs:3,path:4}],9:[function(t,e,n){n.first=function(t){return t[0]},n.last=function(t){return t[t.length-1]},n.capitalize=function(t){return t=String(t),t[0].toUpperCase()+t.substr(1,t.length)},n.downcase=function(t){return String(t).toLowerCase()},n.upcase=function(t){return String(t).toUpperCase()},n.sort=function(t){return Object.create(t).sort()},n.sort_by=function(t,e){return Object.create(t).sort(function(t,n){return t=t[e],n=n[e],t>n?1:n>t?-1:0})},n.size=n.length=function(t){return t.length},n.plus=function(t,e){return Number(t)+Number(e)},n.minus=function(t,e){return Number(t)-Number(e)},n.times=function(t,e){return Number(t)*Number(e)},n.divided_by=function(t,e){return Number(t)/Number(e)},n.join=function(t,e){return t.join(e||", ")},n.truncate=function(t,e){return t=String(t),t.substr(0,e)},n.truncate_words=function(t,e){var t=String(t),n=t.split(/ +/);return n.slice(0,e).join(" ")},n.replace=function(t,e,n){return String(t).replace(e,n||"")},n.prepend=function(t,e){return Array.isArray(t)?[e].concat(t):e+t},n.append=function(t,e){return Array.isArray(t)?t.concat(e):t+e},n.map=function(t,e){return t.map(function(t){return t[e]})},n.reverse=function(t){return Array.isArray(t)?t.reverse():String(t).split("").reverse().join("")},n.get=function(t,e){return t[e]},n.json=function(t){return JSON.stringify(t)}},{}],10:[function(t,e,n){n.escape=function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},{}],11:[function(t,e,n){(function(){var t=this,r=t._,i={},s=Array.prototype,o=Object.prototype,a=Function.prototype,u=s.push,c=s.slice,l=s.concat,h=o.toString,f=o.hasOwnProperty,p=s.forEach,d=s.map,g=s.reduce,m=s.reduceRight,v=s.filter,y=s.every,b=s.some,w=s.indexOf,k=s.lastIndexOf,_=Array.isArray,x=Object.keys,E=a.bind,j=function(t){return t instanceof j?t:this instanceof j?(this._wrapped=t,void 0):new j(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=j),n._=j):t._=j,j.VERSION="1.5.2";var S=j.each=j.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var o=j.keys(t),r=0,s=o.length;s>r;r++)if(e.call(n,t[o[r]],o[r],t)===i)return};j.map=j.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(S(t,function(t,i,s){r.push(e.call(n,t,i,s))}),r)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=j.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,function(t,s,o){i?n=e.call(r,n,t,s,o):(n=t,i=!0)}),!i)throw new TypeError(O);return n},j.reduceRight=j.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return r&&(e=j.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var s=t.length;if(s!==+s){var o=j.keys(t);s=o.length}if(S(t,function(a,u,c){u=o?o[--s]:--s,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(O);return n},j.find=j.detect=function(t,e,n){var r;return T(t,function(t,i,s){return e.call(n,t,i,s)?(r=t,!0):void 0}),r},j.filter=j.select=function(t,e,n){var r=[];return null==t?r:v&&t.filter===v?t.filter(e,n):(S(t,function(t,i,s){e.call(n,t,i,s)&&r.push(t)}),r)},j.reject=function(t,e,n){return j.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},j.every=j.all=function(t,e,n){e||(e=j.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(S(t,function(t,s,o){return(r=r&&e.call(n,t,s,o))?void 0:i}),!!r)};var T=j.some=j.any=function(t,e,n){e||(e=j.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(S(t,function(t,s,o){return r||(r=e.call(n,t,s,o))?i:void 0}),!!r)};j.contains=j.include=function(t,e){return null==t?!1:w&&t.indexOf===w?-1!=t.indexOf(e):T(t,function(t){return t===e})},j.invoke=function(t,e){var n=c.call(arguments,2),r=j.isFunction(e);return j.map(t,function(t){return(r?e:t[e]).apply(t,n)})},j.pluck=function(t,e){return j.map(t,function(t){return t[e]})},j.where=function(t,e,n){return j.isEmpty(e)?n?void 0:[]:j[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;
return!0})},j.findWhere=function(t,e){return j.where(t,e,!0)},j.max=function(t,e,n){if(!e&&j.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&j.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return S(t,function(t,i,s){var o=e?e.call(n,t,i,s):t;o>r.computed&&(r={value:t,computed:o})}),r.value},j.min=function(t,e,n){if(!e&&j.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&j.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return S(t,function(t,i,s){var o=e?e.call(n,t,i,s):t;o<r.computed&&(r={value:t,computed:o})}),r.value},j.shuffle=function(t){var e,n=0,r=[];return S(t,function(t){e=j.random(n++),r[n-1]=r[e],r[e]=t}),r},j.sample=function(t,e,n){return arguments.length<2||n?t[j.random(t.length-1)]:j.shuffle(t).slice(0,Math.max(0,e))};var A=function(t){return j.isFunction(t)?t:function(e){return e[t]}};j.sortBy=function(t,e,n){var r=A(e);return j.pluck(j.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var N=function(t){return function(e,n,r){var i={},s=null==n?j.identity:A(n);return S(e,function(n,o){var a=s.call(r,n,o,e);t(i,a,n)}),i}};j.groupBy=N(function(t,e,n){(j.has(t,e)?t[e]:t[e]=[]).push(n)}),j.indexBy=N(function(t,e,n){t[e]=n}),j.countBy=N(function(t,e){j.has(t,e)?t[e]++:t[e]=1}),j.sortedIndex=function(t,e,n,r){n=null==n?j.identity:A(n);for(var i=n.call(r,e),s=0,o=t.length;o>s;){var a=s+o>>>1;n.call(r,t[a])<i?s=a+1:o=a}return s},j.toArray=function(t){return t?j.isArray(t)?c.call(t):t.length===+t.length?j.map(t,j.identity):j.values(t):[]},j.size=function(t){return null==t?0:t.length===+t.length?t.length:j.keys(t).length},j.first=j.head=j.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:c.call(t,0,e)},j.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},j.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},j.rest=j.tail=j.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},j.compact=function(t){return j.filter(t,j.identity)};var I=function(t,e,n){return e&&j.every(t,j.isArray)?l.apply(n,t):(S(t,function(t){j.isArray(t)||j.isArguments(t)?e?u.apply(n,t):I(t,e,n):n.push(t)}),n)};j.flatten=function(t,e){return I(t,e,[])},j.without=function(t){return j.difference(t,c.call(arguments,1))},j.uniq=j.unique=function(t,e,n,r){j.isFunction(e)&&(r=n,n=e,e=!1);var i=n?j.map(t,n,r):t,s=[],o=[];return S(i,function(n,r){(e?r&&o[o.length-1]===n:j.contains(o,n))||(o.push(n),s.push(t[r]))}),s},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(t){var e=c.call(arguments,1);return j.filter(j.uniq(t),function(t){return j.every(e,function(e){return j.indexOf(e,t)>=0})})},j.difference=function(t){var e=l.apply(s,c.call(arguments,1));return j.filter(t,function(t){return!j.contains(e,t)})},j.zip=function(){for(var t=j.max(j.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=j.pluck(arguments,""+n);return e},j.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},j.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=j.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},j.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(k&&t.lastIndexOf===k)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},j.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,s=new Array(r);r>i;)s[i++]=t,t+=n;return s};var C=function(){};j.bind=function(t,e){var n,r;if(E&&t.bind===E)return E.apply(t,c.call(arguments,1));if(!j.isFunction(t))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(c.call(arguments)));C.prototype=t.prototype;var i=new C;C.prototype=null;var s=t.apply(i,n.concat(c.call(arguments)));return Object(s)===s?s:i}},j.partial=function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},j.bindAll=function(t){var e=c.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=j.bind(t[e],t)}),t},j.memoize=function(t,e){var n={};return e||(e=j.identity),function(){var r=e.apply(this,arguments);return j.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},j.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},j.defer=function(t){return j.delay.apply(j,[t,1].concat(c.call(arguments,1)))},j.throttle=function(t,e,n){var r,i,s,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:new Date,o=null,s=t.apply(r,i)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,0>=l?(clearTimeout(o),o=null,a=c,s=t.apply(r,i)):o||n.trailing===!1||(o=setTimeout(u,l)),s}},j.debounce=function(t,e,n){var r,i,s,o,a;return function(){s=this,i=arguments,o=new Date;var u=function(){var c=new Date-o;e>c?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(s,i)))},c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(s,i)),a}},j.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},j.wrap=function(t,e){return function(){var n=[t];return u.apply(n,arguments),e.apply(this,n)}},j.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},j.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},j.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)j.has(t,n)&&e.push(n);return e},j.values=function(t){for(var e=j.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},j.pairs=function(t){for(var e=j.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},j.invert=function(t){for(var e={},n=j.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},j.functions=j.methods=function(t){var e=[];for(var n in t)j.isFunction(t[n])&&e.push(n);return e.sort()},j.extend=function(t){return S(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},j.pick=function(t){var e={},n=l.apply(s,c.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},j.omit=function(t){var e={},n=l.apply(s,c.call(arguments,1));for(var r in t)j.contains(n,r)||(e[r]=t[r]);return e},j.defaults=function(t){return S(c.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},j.clone=function(t){return j.isObject(t)?j.isArray(t)?t.slice():j.extend({},t):t},j.tap=function(t,e){return e(t),t};var L=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof j&&(t=t._wrapped),e instanceof j&&(e=e._wrapped);var i=h.call(t);if(i!=h.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]==t)return r[s]==e;var o=t.constructor,a=e.constructor;if(o!==a&&!(j.isFunction(o)&&o instanceof o&&j.isFunction(a)&&a instanceof a))return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=L(t[u],e[u],n,r)););}else{for(var l in t)if(j.has(t,l)&&(u++,!(c=j.has(e,l)&&L(t[l],e[l],n,r))))break;if(c){for(l in e)if(j.has(e,l)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};j.isEqual=function(t,e){return L(t,e,[],[])},j.isEmpty=function(t){if(null==t)return!0;if(j.isArray(t)||j.isString(t))return 0===t.length;for(var e in t)if(j.has(t,e))return!1;return!0},j.isElement=function(t){return!(!t||1!==t.nodeType)},j.isArray=_||function(t){return"[object Array]"==h.call(t)},j.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){j["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),j.isArguments(arguments)||(j.isArguments=function(t){return!(!t||!j.has(t,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(t){return"function"==typeof t}),j.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},j.isNaN=function(t){return j.isNumber(t)&&t!=+t},j.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},j.isNull=function(t){return null===t},j.isUndefined=function(t){return void 0===t},j.has=function(t,e){return f.call(t,e)},j.noConflict=function(){return t._=r,this},j.identity=function(t){return t},j.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},j.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=j.invert(M.escape);var $={escape:new RegExp("["+j.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(M.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(t){j[t]=function(e){return null==e?"":(""+e).replace($[t],function(e){return M[t][e]})}}),j.result=function(t,e){if(null==t)return void 0;var n=t[e];return j.isFunction(n)?n.call(t):n},j.mixin=function(t){S(j.functions(t),function(e){var n=j[e]=t[e];j.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),z.call(this,n.apply(j,t))}})};var D=0;j.uniqueId=function(t){var e=++D+"";return t?t+e:e},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(t,e,n){var r;n=j.defaults({},n,j.templateSettings);var i=new RegExp([(n.escape||V).source,(n.interpolate||V).source,(n.evaluate||V).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(i,function(e,n,r,i,a){return o+=t.slice(s,a).replace(R,function(t){return"\\"+P[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=a+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return r(e,j);var u=function(t){return r.call(this,t,j)};return u.source="function("+(n.variable||"obj")+"){\n"+o+"}",u},j.chain=function(t){return j(t).chain()};var z=function(t){return this._chain?j(t).chain():t};j.mixin(j),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];j.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],z.call(this,n)}}),S(["concat","join","slice"],function(t){var e=s[t];j.prototype[t]=function(){return z.call(this,e.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],app:[function(t,e){e.exports=t("RupsrG")},{}],RupsrG:[function(t,e){var n=t("./routers/index"),r=t("./backbone-modified"),i=function(t){t=t||{},new r.AnywhereView({el:$(".layout.fixed")[0]});for(var e in n)new n[e];ONSERVER||(t.pushState=!0,r.history.start(t))};e.exports=i},{"./backbone-modified":14,"./routers/index":24}],14:[function(t,e){var n=t("underscore"),r=t("backbone"),i=t("ejs");ONCLIENT&&t("./backbone-urlhandler"),r.LiveModel=r.Model.extend({urlRoot:"/api/",url:function(){var t=this.urlRoot+this.type;return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)}}),r.LiveCollection=r.Collection.extend({urlRoot:"/api/",url:function(){return this.urlRoot+this.type},dateCreated:null,dateModified:null,orderBy:"dateModified",orderDir:"desc",fetch:function(t){t=t||{};var e=t.sort||null;e&&e.by&&(this.orderBy=e.by),e&&e.dir&&(this.orderDir=e.dir),e&&e.limit&&(this.limit=e.limit.split("-")),t.sort={by:this.orderBy,dir:this.orderDir,limit:this.limit},r.Collection.prototype.fetch.call(this,t)},comparator:function(t){var e=t.collection.orderBy||t.collection.prototype.orderBy,r=(t.collection.orderDir||t.collection.prototype.orderDir).toLowerCase(),i=t.get(e);return n.isBoolean(i)?i?"asc"===r?1:-1:0:n.isNumber(i)?"asc"===r?i:-i:"asc"===r?i:String.fromCharCode.apply(String,n.map(i.split(""),function(t){return 65535-t.charCodeAt()}))},_prepareModel:function(t,e){if(t instanceof r.Model)t.collection||(t.collection=this);else{var n=t;t=new this.model(n,{collection:this}),t.validate&&!t._performValidation(n,e)&&(t=!1)}return this.extKey&&t.set(this.extKey),t},subscribe:function(){}});var s=["model","collection","el","id","attributes","className","tagName","events"];r.AnywhereView=r.View.extend({constructor:function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,s)),this._ensureElement(),this.events=this.events||{},n.extend(this.events,r.View.prototype.events),ONCLIENT&&this.delegateEvents(),this.initialize.apply(this,arguments)},renderEngine:i,show:function(){this.$el.css("display","block")},hide:function(){this.$el.css("display","none")}}),r.createViewCallback=function(t){return function(){r.onlyShowLayout(t),ONSERVER&&ifServerSendFullHtmlToClient()}},r.onlyShowLayout=function(t){$(".layout:not(.fixed)").css("display","none"),t.show()},e.exports=r},{"./backbone-urlhandler":15,backbone:1,ejs:8,underscore:11}],15:[function(t,e){var n=t("underscore"),r=t("backbone"),i=r.View;i.prototype.events={"click a.noscroll":"routeClickNoScroll","click a:not(.noscroll)":"routeClick"},i.prototype.routeClickNoScroll=function(t){return this.routeClick(t,!0)},i.prototype.routeClick=function(t,e){if(n.size(window.currentKeys))return!0;var r=this.normalizeHREF($(t.currentTarget).get(0).getAttribute("href",2));return r?this.route(r,e):!0},i.prototype.normalizeHREF=function(t){var e=document.documentMode,n=$.browser.msie&&(!e||7>=e);if(n){var r=/^https?:\/\/([^/]+)(\/.*)$/.exec(t);if(!r||3>r)return!1;var t=r.pop(),i=r.pop();if(window.location.host!=i)return!1;0===t.indexOf("/#")&&(t=t.substr(1))}return t},i.prototype.route=function(t,e){if("#"===t||"/#!"===t)return!1;var i=this;if("/"===t.charAt(0)){t=t.substr(1);var s=n.any(r.history.handlers,function(n){return n.route.test(t)?(r.history.navigate(t),e||i.scrollTop(),n.callback(t),!0):void 0});return!s}return!0},i.prototype.scrollTop=function(){return $("body").scrollTop()?($("body").animate({scrollTop:0}),void 0):$("html").scrollTop()?($("html").animate({scrollTop:0}),void 0):void 0},e.exports=r.View},{backbone:1,underscore:11}],16:[function(t){ROOT="/js/",ONSERVER=!1,ONCLIENT=!ONSERVER;var e=t("./app");$(document).ready(e)},{"./app":"RupsrG"}],17:[function(t,e){var n=t("../backbone-modified"),r=t("./SongModel");e.exports=n.LiveCollection.extend({type:"songs",url:"/api/songs",model:r,orderBy:"title",published:function(){return this.filter(function(t){return t.get("published")})},remaining:function(){return this.without.apply(this,this.published())},nextOrder:function(){return this.length?this.last().get("order")+1:1}})},{"../backbone-modified":14,"./SongModel":18}],18:[function(t,e){var n=t("../backbone-modified");e.exports=n.LiveModel.extend({type:"songs",defaults:{id:null,title:"empty title...",published:!1,authorId:null,groupId:1},initialize:function(){this.bind("remove",this._removeView,this),this.bind("destroy",this._removeView,this)},toggle:function(){this.save({published:!this.get("published")})},_removeView:function(){this.view&&!this.view.removing&&this.view.remove(!1)}})},{"../backbone-modified":14}],19:[function(t,e){var n=t("../backbone-modified"),r=t("./TrackModel");e.exports=n.LiveCollection.extend({type:"tracks",url:"/api/tracks",model:r,orderBy:"title",published:function(){return this.filter(function(t){return t.get("published")})},remaining:function(){return this.without.apply(this,this.published())},nextOrder:function(){return this.length?this.last().get("order")+1:1}})},{"../backbone-modified":14,"./TrackModel":20}],20:[function(t,e){var n=t("../backbone-modified");e.exports=n.LiveModel.extend({type:"tracks",defaults:{id:null,title:"empty title...",author:"john doe",source:"/sample.aac",published:!1,authorId:1,groupId:null,songId:null},initialize:function(){this.bind("remove",this._removeView,this),this.bind("destroy",this._removeView,this)},toggle:function(){this.save({published:!this.get("published")})},_removeView:function(){this.view&&!this.view.removing&&this.view.remove(!1)}})},{"../backbone-modified":14}],21:[function(t,e){"undefined"==typeof e&&(e={}),e.exports={Song:t("./SongModel"),SongCollection:t("./SongCollection"),Track:t("./TrackModel"),TrackCollection:t("./TrackCollection")}},{"./SongCollection":17,"./SongModel":18,"./TrackCollection":19,"./TrackModel":20}],22:[function(t,e){t("underscore");var n=t("../views/index"),r=t("../models/index"),i=t("../backbone-modified");e.exports=i.Router.extend({routes:{"":"songList","songs/":"songList","songs/by/:orderBy/dir/:dir/limit/:limit":"songList","songs/by/:orderBy/dir/:dir":"songList","songs/by/:orderBy":"songList","songs/:id":"song"},songList:function(t,e,s){var o;this.songListView||(this.songListView=new n.SongList({collection:new r.SongCollection})),o=i.createViewCallback(this.songListView),this.songListView.collection.fetch({sort:{by:t,dir:e||"asc",limit:s},success:o,error:o})},song:function(t){var e,s;this.songView?e=this.songView.model.get("tracks"):(e=new r.TrackCollection,e.extKey={songId:t},this.songView=new n.Song({model:new r.Song({tracks:e})})),this.songView.model.set("id",t),s=i.createViewCallback(this.songView),this.songView.model.fetch({success:function(){e.fetch({success:s,error:s})},error:s})}})},{"../backbone-modified":14,"../models/index":21,"../views/index":39,underscore:11}],23:[function(t,e){t("underscore");var n=t("../views/index"),r=t("../models/index"),i=t("../backbone-modified");e.exports=i.Router.extend({routes:{"tracks/":"trackList","tracks/by/:orderBy/dir/:dir/limit/:limit":"trackList","tracks/by/:orderBy/dir/:dir":"trackList","tracks/by/:orderBy":"trackList","tracks/:id":"track"},trackList:function(t,e,s){var o;this.trackListView||(this.trackListView=new n.TrackList({collection:new r.TrackCollection})),o=i.createViewCallback(this.trackListView),this.trackListView.collection.fetch({sort:{by:t,dir:e||"asc",limit:s},success:o,error:o})},track:function(t){var e;this.trackView?this.trackView.model.set("id",t):this.trackView=new n.Track({model:new r.Track({id:t})}),e=i.createViewCallback(this.trackView),this.trackView.model.fetch({success:e,error:e})}})},{"../backbone-modified":14,"../models/index":21,"../views/index":39,underscore:11}],24:[function(t,e){"undefined"==typeof e&&(e={}),e.exports={Song:t("./SongRouter"),Track:t("./TrackRouter")}},{"./SongRouter":22,"./TrackRouter":23}],25:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<!-- Song View -->\n<div class="title">\n    <h1>Song Details</h1>\n</div>\n<div class="content">\n    <div class="song">\n        <div class="content">\n            Title: <span class="display title"><%= title %></span><span class="edit"><input class="input title" type="text" value="<%= title %>" /></span><br/>\n            Checked: <span class="display published"><%= published %></span><span class="edit"><input class="input published" type="text" value="<%= published %>" /></span>\n        </div>\n    </div>\n    <div class="tracklist-subview"><!-- INCLUDE trackList.ejs --></div>\n</div>\n',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/song.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<!-- Song View -->\n<div class="title">\n    <h1>Song Details</h1>\n</div>\n<div class="content">\n    <div class="song">\n        <div class="content">\n            Title: <span class="display title">',escape((__stack.lineno=8,title)),'</span><span class="edit"><input class="input title" type="text" value="',escape((__stack.lineno=8,title)),'" /></span><br/>\n            Checked: <span class="display published">',escape((__stack.lineno=9,published)),'</span><span class="edit"><input class="input published" type="text" value="',escape((__stack.lineno=9,published)),'" /></span>\n        </div>\n    </div>\n    <div class="tracklist-subview"><!-- INCLUDE trackList.ejs --></div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],26:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<!-- SongList View -->\n<div class="title">\n    <h1>Song List</h1>\n</div>\n<div class="content">\n    <div class="create">\n        <input class="song-new" placeholder="Song title?" type="text" /><span class="ui-tooltip-top" style="display:none;">Press Enter to save as a new Song</span>\n    </div>\n    <div><ul class="songlist"><!-- INCLUDE songListItem.ejs --></ul></div>\n    <div class="songlist-stats stats"><!-- INCLUDE songListStats.ejs --></div>\n</div>\n',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/songlist.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<!-- SongList View -->\n<div class="title">\n    <h1>Song List</h1>\n</div>\n<div class="content">\n    <div class="create">\n        <input class="song-new" placeholder="Song title?" type="text" /><span class="ui-tooltip-top" style="display:none;">Press Enter to save as a new Song</span>\n    </div>\n    <div><ul class="songlist"><!-- INCLUDE songListItem.ejs --></ul></div>\n    <div class="songlist-stats stats"><!-- INCLUDE songListStats.ejs --></div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],27:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="song <%= published ? \'published\' : \'\' %>">\n    <div class="display">\n        <input class="song-check check" type="checkbox"<%= published ? \'checked="checked"\' : \'\' %>/>\n        <div class="song-content">\n            <a href="/songs/<%= id %>"><%= title %></a>\n        </div>\n        <span class="song-destroy destroy"></span>\n    </div>\n    <div class="edit">\n        <input class="song-input" type="text" value="<%= title %>" />\n    </div>\n</div>',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/songlistItem.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<div class="song ',escape((__stack.lineno=1,published?"published":"")),'">\n    <div class="display">\n        <input class="song-check check" type="checkbox"',escape((__stack.lineno=3,published?'checked="checked"':"")),'/>\n        <div class="song-content">\n            <a href="/songs/',escape((__stack.lineno=5,id)),'">',escape((__stack.lineno=5,title)),'</a>\n        </div>\n        <span class="song-destroy destroy"></span>\n    </div>\n    <div class="edit">\n        <input class="song-input" type="text" value="',escape((__stack.lineno=10,title)),'" />\n    </div>\n</div>')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],28:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% if (total) { %>\n    <span class="count">\n        <span class="number"><%= remaining %></span>\n        <span class="word"><%= remaining == 1 ? \'item\' : \'items\' %></span> left.\n    </span>\n<% } %>\n<% if (published) { %>\n    <span class="song clear">\n        <a href="#">\n            Clear<span class="number-done"> <%= published %></span>\n            checked <span class="word-done"><%= published == 1 ? \'item\' : \'items\' %></span>\n        </a>\n    </span>\n<% } %>\n',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/songlistStats.ejs"};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1,total&&(buf.push('\n    <span class="count">\n        <span class="number">',escape((__stack.lineno=3,remaining)),'</span>\n        <span class="word">',escape((__stack.lineno=4,1==remaining?"item":"items")),"</span> left.\n    </span>\n"),__stack.lineno=6),buf.push("\n"),__stack.lineno=7,published&&(buf.push('\n    <span class="song clear">\n        <a href="#">\n            Clear<span class="number-done"> ',escape((__stack.lineno=10,published)),'</span>\n            checked <span class="word-done">',escape((__stack.lineno=11,1==published?"item":"items")),"</span>\n        </a>\n    </span>\n"),__stack.lineno=14),buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],29:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<!-- Track View -->\n<div class="title">\n    <h1>Track Details</h1>\n</div>\n<div class="content">\n    Author: <span class="display"><%= author %></span><br />\n    Title: <span class="display"><%= title %></span><span class="edit"><input class="input" type="text" value="<%= title %>" /></span><br/>\n    Published: <span class="display"><%= published %></span><span class="edit"><input class="input" type="text" value="<%= published %>" /></span><br />\n    Audio:\n    <audio controls="controls">\n        <source src="<%= source %>" type="audio/aac" />\n        Your browser does not support the audio element.\n    </audio>\n</div>\n',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/track.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<!-- Track View -->\n<div class="title">\n    <h1>Track Details</h1>\n</div>\n<div class="content">\n    Author: <span class="display">',escape((__stack.lineno=6,author)),'</span><br />\n    Title: <span class="display">',escape((__stack.lineno=7,title)),'</span><span class="edit"><input class="input" type="text" value="',escape((__stack.lineno=7,title)),'" /></span><br/>\n    Published: <span class="display">',escape((__stack.lineno=8,published)),'</span><span class="edit"><input class="input" type="text" value="',escape((__stack.lineno=8,published)),'" /></span><br />\n    Audio:\n    <audio controls="controls">\n        <source src="',escape((__stack.lineno=11,source)),'" type="audio/aac" />\n        Your browser does not support the audio element.\n    </audio>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],30:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<!-- TrackList View -->\n<div class="title">\n    <h2>Track List</h2>\n</div>\n<div class="content">\n    <div class="create">\n        <input class="track-new" placeholder="Track title?" type="text" /><span class="ui-tooltip-top" style="display:none;">Press Enter to save as a new Track</span>\n    </div>\n    <div><ul class="tracklist"><!-- INCLUDE trackListItem.ejs --></ul></div>\n    <div class="tracklist-stats stats"><!-- INCLUDE trackListStats.ejs --></div>\n</div>\n',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/tracklist.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<!-- TrackList View -->\n<div class="title">\n    <h2>Track List</h2>\n</div>\n<div class="content">\n    <div class="create">\n        <input class="track-new" placeholder="Track title?" type="text" /><span class="ui-tooltip-top" style="display:none;">Press Enter to save as a new Track</span>\n    </div>\n    <div><ul class="tracklist"><!-- INCLUDE trackListItem.ejs --></ul></div>\n    <div class="tracklist-stats stats"><!-- INCLUDE trackListStats.ejs --></div>\n</div>\n')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],31:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<!-- TrackListItem View -->\n<div class="track <%= published ? \'published\' : \'\' %>">\n    <div class="display">\n        <input class="track-check check" type="checkbox"<%= published ? \'checked="checked"\' : \'\' %>/>\n        <div class="track-content">\n            <a href="/tracks/<%= id %>"><%= title %></a>\n        </div>\n        <span class="track-destroy destroy"></span>\n    </div>\n    <div class="edit">\n        <input class="track-input" type="text" value="<%= title %>" />\n    </div>\n</div>',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/tracklistItem.ejs"};try{var buf=[];with(locals||{})!function(){buf.push('<!-- TrackListItem View -->\n<div class="track ',escape((__stack.lineno=2,published?"published":"")),'">\n    <div class="display">\n        <input class="track-check check" type="checkbox"',escape((__stack.lineno=4,published?'checked="checked"':"")),'/>\n        <div class="track-content">\n            <a href="/tracks/',escape((__stack.lineno=6,id)),'">',escape((__stack.lineno=6,title)),'</a>\n        </div>\n        <span class="track-destroy destroy"></span>\n    </div>\n    <div class="edit">\n        <input class="track-input" type="text" value="',escape((__stack.lineno=11,title)),'" />\n    </div>\n</div>')
}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],32:[function(require,module,exports){module.exports=function anonymous(locals,filters,escape){function rethrow(t,e,n,r){var i=e.split("\n"),s=Math.max(r-3,0),o=Math.min(i.length,r+3),a=i.slice(s,o).map(function(t,e){var n=e+s+1;return(n==r?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+r+"\n"+a+"\n\n"+t.message,t}escape=escape||function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% if (total) { %>\n    <span class="track-count">\n        <span class="number"><%= remaining %></span>\n        <span class="word"><%= remaining == 1 ? \'item\' : \'items\' %></span> left.\n    </span>\n<% } %>\n<% if (published) { %>\n    <span class="track clear">\n        <a href="#">\n            Clear<span class="number-done"> <%= published %></span>\n            checked <span class="word-done"><%= published == 1 ? \'item\' : \'items\' %></span>\n        </a>\n    </span>\n<% } %>\n',filename:"/Users/MoDrama/Documents/workspace/backbone-revisited-rest/public/js/templates/tracklistStats.ejs"};try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1,total&&(buf.push('\n    <span class="track-count">\n        <span class="number">',escape((__stack.lineno=3,remaining)),'</span>\n        <span class="word">',escape((__stack.lineno=4,1==remaining?"item":"items")),"</span> left.\n    </span>\n"),__stack.lineno=6),buf.push("\n"),__stack.lineno=7,published&&(buf.push('\n    <span class="track clear">\n        <a href="#">\n            Clear<span class="number-done"> ',escape((__stack.lineno=10,published)),'</span>\n            checked <span class="word-done">',escape((__stack.lineno=11,1==published?"item":"items")),"</span>\n        </a>\n    </span>\n"),__stack.lineno=14),buf.push("\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},{}],33:[function(t,e){t("underscore");var n=t("../backbone-modified"),r=t("../templates/songlistItem.ejs");e.exports=n.AnywhereView.extend({tagName:"li",template:r,events:{"click .song-check":"toggleActivated","dblclick div.song-content":"edit","click span.song-destroy":"remove","keypress .song-input":"updateOnEnter"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.model.view=this},render:function(){return this.$el.html(this.template(this.model.toJSON())),this._enrich(),this},_enrich:function(){this.input=this.$(".song-input"),ONCLIENT&&this.listenTo(this.input,"blur",this.close)},toggleActivated:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){this.model.save({title:this.input.val()}),this.$el.removeClass("editing")},updateOnEnter:function(t){13==t.keyCode&&this.close()},remove:function(){this.removing||(this.removing=!0,this.model.destroy(),n.AnywhereView.prototype.remove.apply(this))},clear:function(){this.model.clear()}})},{"../backbone-modified":14,"../templates/songlistItem.ejs":27,underscore:11}],34:[function(t,e){var n=t("underscore"),r=t("../backbone-modified"),i=t("../templates/songlist.ejs"),s=t("../templates/songlistStats.ejs");e.exports=r.AnywhereView.extend({el:"#songlist-view",template:i,statsTemplate:s,events:{"keypress .song-new":"createOnEnter","keyup .song-new":"showTooltip","click .song.clear a":"clearCompleted"},initialize:function(){this.$el.html(this.template(this.collection.toJSON())),this.input=this.$(".song-new"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"all",this.render),this.trigger("attach")},render:function(){var t=this.statsTemplate({total:this.collection.length,published:this.collection.published().length,remaining:this.collection.remaining().length});this.$(".songlist-stats").html(t)},addOne:function(e,n){if(!this.collection.limit||n!==this.collection.limit[1]){var r=t("../views/index").SongListItem,i=new r({model:e}).render().$el;this.$(".songlist").append(i)}},addAll:function(){this.$(".songlist").html(""),this.collection.each(n.bind(this.addOne,this))},newAttributes:function(){return{title:this.input.val(),order:this.collection.nextOrder(),published:!1}},createOnEnter:function(t){13==t.keyCode&&(this.collection.create(this.newAttributes(),{success:this.collection.fetch}),this.input.val(""))},clearCompleted:function(){return n.each(this.collection.published(),function(t){t.destroy()}),!1},showTooltip:function(){var t=this.$(".ui-tooltip-top"),e=this.input.val();if(t.fadeOut(),this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),""!=e&&e!=this.input.attr("placeholder")){var r=function(){t.show().fadeIn()};this.tooltipTimeout=n.delay(r,1e3)}}})},{"../backbone-modified":14,"../templates/songlist.ejs":26,"../templates/songlistStats.ejs":28,"../views/index":39,underscore:11}],35:[function(t,e){var n=t("underscore"),r=t("../backbone-modified"),i=t("./TrackListView"),s=t("../templates/song.ejs");e.exports=r.AnywhereView.extend({el:"#song-view",template:s,subViews:{},events:{"dblclick div.content":"edit","click span.destroy":"clear"},initialize:function(){this.initModel(),this.$el.html(this.template(this.model.toJSON())),this._enrich(),this.initTracksView(),this.trigger("attach")},initModel:function(t){return t===this.model?this:(this.model=t||this.model,this.listenTo(this.model,"change",this.render),this.model.view=this,this.render(),void 0)},initTracksView:function(){this.subViews.trackList=new i({el:".tracklist-subview",collection:this.model.get("tracks")})},render:function(){return n.each(this.model.toJSON(),n.bind(function(t,e){var r=n.isBoolean(t);(r||!t||"object"!=typeof t)&&(r&&(t=t?"yes":"no"),this.$("span."+e).html(t+""),this.$("input."+e).val(t+""))},this)),this},_enrich:function(){this.input=this.$(".song-input"),ONCLIENT&&this.input.bind("blur",n.bind(this.close,this))},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){this.model.save({title:this.input.val()}),this.$el.removeClass("editing")},updateOnEnter:function(t){13==t.keyCode&&this.close()},clear:function(){this.model.clear()}})},{"../backbone-modified":14,"../templates/song.ejs":25,"./TrackListView":37,underscore:11}],36:[function(t,e){t("underscore");var n=t("../backbone-modified"),r=t("../templates/tracklistItem.ejs");e.exports=n.AnywhereView.extend({tagName:"li",template:r,events:{"click .track-check":"toggleActivated","dblclick div.track-content":"edit","click span.track-destroy":"remove","keypress .track-input":"updateOnEnter"},initialize:function(){this.listenTo(this.model,"change",this.render,this),this.listenTo(this.model,"destroy",this.remove,this),this.model.view=this},render:function(){return this.$el.html(this.template(this.model.toJSON())),this._enrich(),this},_enrich:function(){this.input=this.$(".track-input"),ONCLIENT&&this.listenTo(this.input,"blur",this.close)},toggleActivated:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){this.model.save({title:this.input.val()}),this.$el.removeClass("editing")},updateOnEnter:function(t){13==t.keyCode&&this.close()},remove:function(){this.removing||(this.removing=!0,this.model.destroy(),n.AnywhereView.prototype.remove.apply(this))},clear:function(){this.model.clear()}})},{"../backbone-modified":14,"../templates/tracklistItem.ejs":31,underscore:11}],37:[function(t,e){var n=t("underscore"),r=t("../backbone-modified"),i=t("../templates/tracklist.ejs"),s=t("../templates/tracklistStats.ejs");e.exports=r.AnywhereView.extend({el:"#tracklist-view",template:i,statsTemplate:s,events:{"keypress .track-new":"createOnEnter","keyup .track-new":"showTooltip","click .track.clear a":"clearCompleted"},initialize:function(){this.$el.html(this.template(this.collection.toJSON())),this.input=this.$(".track-new"),this.listenTo(this.collection,"add",function(){this.collection.trigger("reset")},this),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"all",this.render)},render:function(){var t=this.statsTemplate({total:this.collection.length,published:this.collection.published().length,remaining:this.collection.remaining().length});this.$(".tracklist-stats").html(t)},addOne:function(e,n){if(!this.collection.limit||n!=this.collection.limit[1]){var r=t("./TrackListItemView"),i=new r({model:e}).render().$el;this.$(".tracklist").append(i)}},addAll:function(){this.$(".tracklist").html(""),this.collection.each(n.bind(this.addOne,this))},newAttributes:function(){return{title:this.input.val(),order:this.collection.nextOrder(),published:!1}},createOnEnter:function(t){13==t.keyCode&&(this.collection.create(this.newAttributes(),{success:this.collection.fetch}),this.input.val(""))},clearCompleted:function(){return n.each(this.collection.published(),function(t){t.destroy()}),!1},showTooltip:function(){var t=this.$(".ui-tooltip-top"),e=this.input.val();if(t.fadeOut(),this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),""!=e&&e!=this.input.attr("placeholder")){var r=function(){t.show().fadeIn()};this.tooltipTimeout=n.delay(r,1e3)}}})},{"../backbone-modified":14,"../templates/tracklist.ejs":30,"../templates/tracklistStats.ejs":32,"./TrackListItemView":36,underscore:11}],38:[function(t,e){t("underscore");var n=t("../backbone-modified"),r=t("../templates/track.ejs");e.exports=n.AnywhereView.extend({el:"#track-view",template:r,events:{"dblclick div.content":"edit","click span.destroy":"clear","keypress .input":"updateOnEnter"},initialize:function(){this.initModel(),this.trigger("attach")},initModel:function(t){this.model=t||this.model,this.listenTo(this.model,"change",this.render),this.model.view=this,this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this._enrich(),this},_enrich:function(){this.input=this.$(".song-input"),ONCLIENT&&this.listenTo(this.input,"blur",this.close)},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){this.model.save({title:this.input.val()}),this.$el.removeClass("editing")},updateOnEnter:function(t){13==t.keyCode&&this.close()},clear:function(){this.model.clear()}})},{"../backbone-modified":14,"../templates/track.ejs":29,underscore:11}],39:[function(t,e){"undefined"==typeof e&&(e={}),e.exports={SongList:t("./SongListView"),SongListItem:t("./SongListItemView"),Song:t("./SongView"),TrackList:t("./TrackListView"),TrackListItem:t("./TrackListItemView"),Track:t("./TrackView")}},{"./SongListItemView":33,"./SongListView":34,"./SongView":35,"./TrackListItemView":36,"./TrackListView":37,"./TrackView":38}]},{},[16]);